def count(t):
    # print("---")
    n = len(t)
    c = 0
    s = {}

    ix = 0

    for i in range(n):
        v = t[i]

        if v in s:
            ix = max(s[v] + 1, ix)

        s[v] = i

        # print('#' + str(i), v, len(set(t[ix: i+1])), t[ix: i+1])
        c += i + 1 - ix
        # c += len(t[ix: i + 1])

    return c


# def generate(t):
#     print("Generating")
#     n = len(t)
#     c = 0

#     for i in range(n):
#         for i2 in range(i + 1, n + 1):
#             s = t[i: i2]
#             if len(set(s)) == len(s):
#                 c += 1

#     return c


if __name__ == "__main__":
    # print(count([1, 2, 3, 4, 5]))  # 15
    # print(count([1, 1, 1, 1, 1]))  # 5
    print(count([1, 2, 1, 1, 2]))  # 8
    print(count([1, 2, 2, 1, 2]))  # 8
    print(count([1, 2, 2, 2, 2]))  # 6
    # print(count([1, 1, 2, 2, 2]))  # 6
    # print(count([1, 1, 2]))  # 4
    # print(count([1, 1, 2, 3]))  # 7
    # print(count([1, 1, 2, 3, 4, 4, 1]))  # 11
    #               1  1  2  3  4  1  2
    # print(count([3, 1, 2]))  # 6
    # print(count([3, 1, 2, 3]))  # 9
    # print(count([3, 1, 2, 3, 1]))  # 12
    #            1  2  3  3  3
    # print(count([2, 2, 3]))  # 4
    # print(count([2, 2, 3, 1]))  # 7
    # print(count([2, 2, 3, 1, 3]))  # 9
    # print(count([2, 2, 3, 1, 3, 2]))  # 12
    #            1  1  2  3  2  3
    # print(count([1, 1, 2, 3, 2]))  # 9
    # print(count([3, 1, 2, 3]))  # 9
    # print(count([3, 1, 2, 3, 2]))  # 11
    # print(count([3, 1, 2, 3, 2, 1]))  # 14
    #              1  2  3  3  2  3
    # print(count([5, 1, 5]))  # 5
    # print(count([5, 1, 5, 6]))  # 8
    # print(count([5, 1, 5, 6, 3]))  # 12
    # print(count([5, 1, 5, 6, 3, 2]))  # 17
    # print(count([5, 1, 5, 6, 3, 2, 5]))  # 21
    # print(count([5, 1, 5, 6, 3, 2, 5, 3]))  # 24
    print(count([5, 1, 5, 6, 3, 2, 5, 3, 2]))  # 27
    #            1  2  2  3  4  5  4  3  3
    print(count([4, 3, 6, 2, 1, 5, 5, 4, 1, 4]))  # 29
    #            1  2  3  4  5  6  1  2  3  2
    print(count([3, 5, 4, 3, 4, 2, 5, 6, 1, 6]))  # 31
    # #            1  2  3  3  2  3  4  5  6  2
    # # # # print(count([3, 3, 2, 3]))  # 6
    # # # # print(count([3, 3, 2, 3, 3]))  # 7
    # # # # print(count([3, 3, 2, 3, 3, 3]))  # 8
    # # # # print(count([3, 3, 2, 3, 3, 3, 1]))  # 10
    # # # # print(count([3, 3, 2, 3, 3, 3, 1, 2]))  # 13
    # # # print(count([3, 3, 2, 3, 3, 3, 1, 2, 2]))  # 14
    print(count([3, 3, 2, 3, 3, 3, 1, 2, 2, 3]))  # 16
    # # # # #          1  1  2  2  1  1  2  3  1  2
    a = [262144, 262144, 262144, 2412, 0, 262144, 497672, 719550, 364863, 524288,
         #    1       1       1     2  3       3       4       5       6       7
         262144, 382983, 597752, 893113, 262144, 0, 738464, 524288, 0, 442618]
    #         5       6       7       8       4  5       6       7  3       4
    print(count(a))
    # prev = 0
    # for i in range(len(a)):
    #     k = generate(a[: i+1])
    #     print(k-prev, k)
    #     prev = k  # 88

    # print(count([869376, 921600, 848896, 195584, 559104, 239616, 851968, 963584, 609280, 77824, 876544, 300032, 433152, 569344, 347136, 195584, 382976, 908288, 272384, 736256, 315392, 676864, 160768, 883712, 138240, 916480, 98304, 933888, 374784, 813056, 735232, 620544, 712704, 81920, 218112, 57344, 867328, 386048, 121856, 186368, 669696, 119808, 509952, 414720, 628736, 452608, 505856, 111616, 211968, 278528, 117760, 178176, 887808, 305152, 385024, 630784, 191488, 764928, 484352, 7168, 567296, 445440, 595968,
    #              937984, 596992, 92160, 63488, 540672, 935936, 589824, 982016, 864256, 236544, 558080, 932864, 389120, 280576, 913408, 931840, 809984, 765952, 613376, 16384, 411648, 446464, 965632, 839680, 202752, 479232, 927744, 936960, 372736, 946176, 356352, 439296, 458752, 82944, 832512, 99328, 359424, 388096, 409600, 126976, 697344, 834560, 560128, 983040, 13312, 926720, 734208, 752640, 203776, 290816, 84992, 463872, 138240, 621568, 123904, 642048, 758784, 762880, 552960, 868352, 328704, 406528, 956416, 8058] * 10000))  # 8
